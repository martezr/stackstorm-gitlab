from lib import action


class ListProjectCommitsAction(action.GitlabBaseAction):
    def run(self, project, credentials, url, token, verify_ssl):
        self.get_client(credentials)
        project_payload = self.gitlab.projects.get(project)
        commits_payload = []
        for branch in project_payload:
            branches_payload.append(branch.attributes)
        return branches_payload